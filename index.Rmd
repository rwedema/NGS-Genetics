---
title: "Minor DSLS - Genomics Project"
author: "Marcel Kempenaar and Ronald Wedema"
date: "`r Sys.Date()`"
site: bookdown::bookdown_site
documentclass: book
bibliography:
- book.bib
- packages.bib
description: This is the background and assignments needed to complete the DSLS Genomics project
link-citations: true
github-repo: "https://github.com/rwedema/NGS-Genetics/"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(cache = TRUE)
```

# About {.unnumbered}

This is the syllabus for the Genomics Project. This document will provide you with enough background material and exercises to complete the project. In this project you will work in groups to determine variants from a DNA sequence data set of a given condition that may contribute to the development of this condition. We do this by processing raw sequencing data to eventually annotate found variants for their relation to a certain condition. Most aspects of this analysis will be performed in the workflow manager Galaxy with several extra steps that require programming in R. Every step taken will be documented in an RMarkdown lab journal, starting with quality control of the raw NGS reads, mapping these to a reference genome, reporting on the achieved coverage, finding and annotating variants and finally researching the found variants on their relation to the condition.

## Usage {.unnumbered}

Chapters are divided into subjects. Each subject (chapter) should last you a week to complete. There is no new information after week 4 and the rest of the weeks should be spend on finishing the analysis of your selected case.

## Learning outcomes {.unnumbered}

-   You know the different types of possible variants occurring in DNA-sequences and can detect, filter and annotate these using the proper tools and techniques.
-   You have a good overview of the quality requirements of NGS data, depending on both the NGS technique used as well as the purpose of the analysis. Furthermore, you can apply the tools to gain insight into and improve this quality.
-   You keep an RMarkdown lab journal that documents all steps taken and records results so that the analysis is reproducible.
-   You develop a simple Galaxy workflow for finding and annotating variants in NGS data

## End Products {.unnumbered}

The end product of this course is a lab journal document resulting from a knitted RMarkdown file describing the analysis steps taken for completing the project.

The two items above are weighted and combined to get a single final grade. See also the Rubric for the learning outcomes and how they are graded.

## Rubric {.unnumbered}

| Subject | criteria | weight |
|------------------------|------------------------|:------------------------:|
| Lab Journal | The lab journal is complete and contains motivation for taken steps and describes these steps in a reproducible manner | 2 |
| Lab Journal | Based on results, correct (partial) conclusions are given. Results are supported by figures and these are correctly interpreted | 2 |
| Workflow | The re-usable Galaxy workflow consists of and implements the correct tools to perform NGS quality control, mapping against a reference genome as well as finding and annotating variants | 1 |

## Planning {.unnumbered}

| Week | Topic | Chapter(s) | Lecture Topic |
|:----------------:|--------------------------|:--------------:|----------------|
| 1 | Galaxy Introduction, Data Preprocessing (Quality Control) | [1](#intro), [2](#quality-control) | Project Introduction |
| 2 | Read Mapping (BWA) | [3](#mapping) |  |
| 3 | Mapping Quality [R assignment] | [4](#mapping-qc) | Quality Control review |
| 4 | Variant Calling (Lofreq) | [5](#variant-calling) | Mapping Quality review |
| 5 | Variant Filtering [R assignment] | [5.2](#variant-filtering) |  |
| 6 | Variant Annotation | [6](#variant-annotation) |  |
| 7 | Variant Annotation | [6](#variant-annotation) |  |
| 8 | Finalizing Analysis | [7](#variant-visualization) |  |

## Manual TODOs {.unnumbered}

-   Chapter 1: Update Galaxy instructions
-   Chapter 3: Needs an assignment revision and/ or a more gentle introduction into R (without the used libraries)
-   Chapter 6: More theory regarding annotation (SnpSIFT/SnpEff are complex) (see evaluation BIN)
-   Chapter 7: Visualization chapter is now aimed at making a presentation, which is not a deliverable for this project
-   General: reduce amount of text

## Project TODOs {.unnumbered}

-   Fix Galaxy (make sure CVMFS works! see [this tutorial](https://training.galaxyproject.org/training-material/topics/admin/tutorials/cvmfs/tutorial.html))
-   Finish Docker container for backup
-   Finish Blackboard
